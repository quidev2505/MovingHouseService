{"version":3,"file":"render.test.js","sourceRoot":"","sources":["../src/render.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { ReactElement, ReactNode } from 'react';\nconst stringify = require('json-stringify-safe');\nimport { HtmlContent, HtmlElement } from './parse';\nimport renderHtml, {\n  bucketElements,\n  collapseWhitespace,\n  hasBlockContent,\n} from './render';\n\nconst scrub = (object: any) => {\n  if (Array.isArray(object)) {\n    object.forEach(scrub);\n  } else if (object && typeof object === 'object') {\n    if (object.parentNode) {\n      delete object.parentNode;\n    }\n    if (object.childNodes) {\n      delete object.childNodes;\n    }\n    Object.keys(object).forEach((key) => scrub(object[key]));\n  }\n};\n\nimport ReactPDF, {\n  Text,\n  View,\n  Page,\n  Document,\n  Font,\n  renderToString,\n} from '@react-pdf/renderer';\nimport path from 'path';\nimport renderers, {\n  renderBlock,\n  renderNoop,\n  renderPassThrough,\n} from './renderers';\n\nconst inlineElement: HtmlElement = {\n  tag: 'span',\n} as HtmlElement;\n\nconst blockElement: HtmlElement = {\n  tag: 'div',\n} as HtmlElement;\n\ndescribe('render', () => {\n  describe('collapseWhitespace', () => {\n    it('Should reduce all continuous whitespace to a single space', () => {\n      expect(collapseWhitespace('\\n\\n foo  \\t  bar  ')).toBe(' foo bar ');\n    });\n  });\n\n  describe('bucketElements', () => {\n    it('Should bucket elements and trim strings correctly with collapse: true', () => {\n      const stringContent = `  foo\n      bar\n      \n      `;\n\n      const elements: HtmlContent = [\n        blockElement,\n        blockElement,\n        inlineElement,\n        stringContent,\n        blockElement,\n      ];\n\n      const bucketed = bucketElements(elements, true);\n\n      expect(bucketed).toEqual([\n        { hasBlock: true, content: [blockElement, blockElement] },\n        { hasBlock: false, content: [inlineElement, '  foo\\n      bar'] },\n        { hasBlock: true, content: [blockElement] },\n      ]);\n    });\n\n    it('Should bucket elements and not trim strings with collapse: false', () => {\n      const stringContent = `  foo\n      bar\n      \n      `;\n\n      const elements: HtmlContent = [\n        blockElement,\n        blockElement,\n        inlineElement,\n        stringContent,\n        blockElement,\n      ];\n\n      const bucketed = bucketElements(elements, false);\n\n      expect(bucketed).toEqual([\n        { hasBlock: true, content: [blockElement, blockElement] },\n        { hasBlock: false, content: [inlineElement, stringContent] },\n        { hasBlock: true, content: [blockElement] },\n      ]);\n    });\n  });\n\n  describe('hasBlockContent', () => {\n    it('Should return false for string elements', () => {\n      expect(hasBlockContent('')).toBe(false);\n    });\n\n    it('Should return false for inline elements', () => {\n      expect(hasBlockContent(inlineElement)).toBe(false);\n    });\n\n    it('Should return true for block elements', () => {\n      expect(hasBlockContent(blockElement)).toBe(true);\n    });\n\n    it('Should return true for inline elements with block content', () => {\n      const inlineElementWithBlockContent: HtmlElement = {\n        tag: 'span' as any,\n        content: [blockElement],\n      } as HtmlElement;\n      expect(hasBlockContent(inlineElementWithBlockContent)).toBe(true);\n    });\n\n    it('Should return true for anchor elements with block content', () => {\n      const anchorWithBlockContent: HtmlElement = {\n        tag: 'a' as any,\n        content: [blockElement],\n      } as HtmlElement;\n      expect(hasBlockContent(anchorWithBlockContent)).toBe(true);\n    });\n\n    it('Should return false for anchor elements with inline content', () => {\n      const anchorWithInlineContent: HtmlElement = {\n        tag: 'a' as any,\n        content: [inlineElement],\n      } as HtmlElement;\n      expect(hasBlockContent(anchorWithInlineContent)).toBe(false);\n    });\n\n    it('Should return false for inline elements with inline content', () => {\n      const inlineElementWithBlockContent: HtmlElement = {\n        tag: 'span' as any,\n        content: [inlineElement],\n      } as HtmlElement;\n      expect(hasBlockContent(inlineElementWithBlockContent)).toBe(false);\n    });\n  });\n\n  describe('renderHtml', () => {\n    it('Should use a custom renderer', () => {\n      const foo = jest.fn();\n\n      const html = '<foo>Custom Content</foo>';\n      const rootView = renderHtml(html, {\n        renderers: {\n          foo,\n        },\n      });\n      expect(rootView.type).toBe(View);\n      const firstChild = rootView.props.children;\n      expect(firstChild.type).toBe(foo);\n    });\n\n    it('Should render a link with text inside it', () => {\n      const html = '<a href=\"http://google.com\">link text</a>';\n      const rootView = renderHtml(html);\n      expect(rootView.type).toBe(View);\n\n      const a = rootView.props.children;\n      expect(a.type).toBe(renderers.a);\n      expect(a.props.element.tag).toBe('a');\n\n      const aText = a.props.children;\n      expect(aText.type).toBe(Text);\n      expect(aText.props.children).toEqual('link text');\n    });\n\n    it('Should render inline elements with proper text wrapper', () => {\n      const html = `<p>Paragraph with <strong>bold</strong>, <i>italic</i>, <u>underline</u> and <s>strikethrough</s></p>`;\n      const rootView = renderHtml(html);\n      expect(rootView.type).toBe(View);\n\n      const p = rootView.props.children;\n      expect(p.props.element.tag).toBe('p');\n      expect(p.type).toBe(renderBlock);\n\n      const pText = p.props.children;\n      expect(pText.type).toBe(Text);\n      expect(pText.props.children.length).toBe(8);\n    });\n\n    it('Should render anchors as inline if their content is inline', () => {\n      const html = `<p>Link to <a href=\"//www.google.com\">Google</a> using react-pdf-html.</p>`;\n      const rootView = renderHtml(html);\n      expect(rootView.type).toBe(View);\n\n      const p = rootView.props.children;\n      expect(p.props.element.tag).toBe('p');\n      expect(p.type).toBe(renderBlock);\n\n      const pText = p.props.children;\n      expect(pText.type).toBe(Text);\n      expect(pText.props.children.length).toBe(3);\n\n      expect(pText.props.children[0]).toBe('Link to ');\n\n      const anchor = pText.props.children[1];\n      expect(anchor.props.element.tag).toBe('a');\n\n      const anchorText = anchor.props.children;\n      expect(anchorText.type).toBe(Text);\n      expect(anchorText.props.children).toBe('Google');\n\n      expect(pText.props.children[2]).toBe(' using react-pdf-html.');\n    });\n\n    it('Should render span as block style suggests it is block', () => {\n      const html = `<p>Expecting <span style=\"display: block\">block text!</span> to render correctly</p>`;\n      const rootView = renderHtml(html);\n      expect(rootView.type).toBe(View);\n\n      const p = rootView.props.children;\n      expect(p.props.element.tag).toBe('p');\n      expect(p.type).toBe(renderBlock);\n      expect(p.props.children.length).toBe(3);\n\n      const pText1 = p.props.children[0];\n      expect(pText1.type).toBe(Text);\n      expect(pText1.props.children).toBe('Expecting');\n\n      const blockSpan = p.props.children[1];\n      expect(blockSpan.props.element.tag).toBe('span');\n      expect(blockSpan.type).toBe(renderBlock);\n      const spanText = blockSpan.props.children;\n      expect(spanText.type).toBe(Text);\n      expect(spanText.props.children).toBe('block text!');\n\n      const pText2 = p.props.children[2];\n      expect(pText2.type).toBe(Text);\n      expect(pText2.props.children).toBe('to render correctly');\n    });\n\n    it('Should render a PDF with custom font without errors', async () => {\n      const fonts = path.resolve(__dirname, 'fonts');\n\n      Font.clear();\n      Font.register({\n        family: 'Open Sans',\n        fonts: [\n          { src: fonts + '/Open_Sans/OpenSans-Regular.ttf' },\n          { src: fonts + '/Open_Sans/OpenSans-Bold.ttf', fontWeight: 'bold' },\n          {\n            src: fonts + '/Open_Sans/OpenSans-Italic.ttf',\n            fontStyle: 'italic',\n          },\n          {\n            src: fonts + '/Open_Sans/OpenSans-BoldItalic.ttf',\n            fontWeight: 'bold',\n            fontStyle: 'italic',\n          },\n        ],\n      });\n\n      await Font.load({ fontFamily: 'Open Sans' });\n\n      const content = `<html>\n  <style>\n    body {\n      font-family: 'Open Sans';\n    }\n  </style>\n  <body>\n    <p>\n        Paragraph with <strong>bold</strong>, <i>italic</i>, <u>underline</u> and <s>strikethrough</s>\n        <img src=\"https://images.unsplash.com/photo-1485546246426-74dc88dec4d9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2069&q=80\" />\n    </p>\n    <ul>\n        <li>\n          First level\n          <ul><li>Second level</li></ul>\n        </li>\n    </ul>\n  </body>\n</html>`;\n\n      const rootView = renderHtml(content);\n      expect(rootView.type).toBe(View);\n\n      const html = rootView.props.children;\n      expect(html.type).toBe(renderPassThrough);\n      expect(html.props.children.length).toBe(2);\n\n      const style = html.props.children[0];\n      expect(style.type).toBe(renderNoop);\n      expect(style.props.element.tag).toBe('style');\n\n      const body = html.props.children[1];\n      expect(body.type).toBe(renderBlock);\n      expect(body.props.element.tag).toBe('body');\n      expect(body.props.children.length).toBe(2);\n\n      const p = body.props.children[0];\n      expect(p.type).toBe(renderBlock);\n      expect(p.props.element.tag).toBe('p');\n      expect(p.props.children.length).toBe(2);\n\n      const pText = p.props.children[0];\n      expect(pText.type).toBe(Text);\n      expect(pText.props.children.length).toBe(8);\n\n      const image = p.props.children[1];\n      expect(image.type).toBe(renderers.img);\n      expect(image.props.element.tag).toBe('img');\n\n      const ul = body.props.children[1];\n      expect(ul.type).toBe(renderBlock);\n      expect(ul.props.element.tag).toBe('ul');\n\n      const li = ul.props.children;\n      expect(li.props.children.length).toBe(2);\n\n      // pText.props.children.forEach((child: any) => {\n      //   if (typeof child === 'string') {\n      //     console.log(`\"${child}\"`);\n      //   } else {\n      //     console.log(child.props?.element?.tag, child.type);\n      //   }\n      // });\n\n      const document = (\n        <Document>\n          <Page size=\"LETTER\">\n            <>{rootView}</>\n          </Page>\n        </Document>\n      );\n\n      try {\n        const pdfString = await renderToString(document);\n        // console.log(pdfString);\n      } catch (e) {\n        fail(e);\n      }\n    });\n  });\n});\n"]}